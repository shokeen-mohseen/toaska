<!--TFS ID: 18479,
  Author: Monu Ram Yadav,
  Date: 06-11-2020,
  Des: Design - view forecast as screen design -->

<!-->>>>>>>>>Note:- This page will use for second release only<<<<<<<<<<<-->
<div class="modal-header">
  <h5 class="modal-title">{{ 'key_viewforecastas' | translate }}</h5>
  <button type="button" class="close" data-dismiss="modal" (click)="activeModal.dismiss('Cross click')">&times;</button>
</div>

<div class="modal-body">
  <div class="row">
    <div class="col-md-12">
      <!-- Modal body -->
      <div class="d-flex flex-nowrap justify-content-between align-items-center mb-2">

        <div class="btn-group btn-group-toggle btn-group-md" data-toggle="buttons">
          <button id="deleteButton" class="btn btn btn-outline-danger" type="button" placement="bottom" ngbTooltip="Delete">
            <i class="fa fa-trash-o" aria-hidden="true"></i>
            <span>
              {{ 'key_ExportToExcel' | translate }}
            </span>
          </button>
          <button id="btnRefresh" class="btn btn-outline-primary" type="button" placement="bottom" ngbTooltip="Refresh">
            <i class="fa fa-floppy-o" aria-hidden="true"></i>
            <span>
              {{ 'key_SaveAs' | translate }}
            </span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <!--Row End-->
  <div class="row">
    <div class="col-md-12">
      <mat-accordion>
        <mat-expansion-panel [expanded]="false">

          <mat-expansion-panel-header>
            <mat-panel-description>
              {{ 'key_filterbylocation' | translate }}
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
            <div class="row">
              <div class="col-md-3">
                <div class="form-group">
                  <label> Enterprise</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label> Country</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label> Region</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label>State</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label> city</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label> Zip code</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label> Facility Location</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
  <!--Row End-->
  <div class="row mt-2">
    <div class="col-md-12">
      <mat-accordion>
        <mat-expansion-panel [expanded]="false">

          <mat-expansion-panel-header>
            <mat-panel-description>
              {{ 'key_filterbyorganization' | translate }}
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
            <div class="row">
              <div class="col-md-3">
                <div class="form-group">
                  <label> Enterprise</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label> Group</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label> Billing Entity</label>
                  <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)"
                                        (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        (onAddFilterNewItem)="onAddItem($event)">
                  </angular2-multiselect>
                </div>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
  <!--Row End-->
  <div class="row mt-2">
    <div class="col-md-5">
      <div class="row form-group">
        <div class="col-md-6 text-right pt-1">{{ 'key_MaterialGroupLevels' | translate }}</div>
        <div class="col-md-6">
          <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                (onSelect)="onItemSelect($event)"
                                (onDeSelect)="OnItemDeSelect($event)"
                                (onSelectAll)="onSelectAll($event)"
                                (onDeSelectAll)="onDeSelectAll($event)"
                                (onAddFilterNewItem)="onAddItem($event)">
          </angular2-multiselect>
        </div>
      </div>
    </div>
    <div class="col-md-5">
      <div class="row form-group">
        <div class="col-md-4 text-right pt-1">{{ 'key_DataSegment' | translate }}</div>
        <div class="col-md-6">
          <angular2-multiselect [data]="itemList" [(ngModel)]="selectedItems" [settings]="settings"
                                (onSelect)="onItemSelect($event)"
                                (onDeSelect)="OnItemDeSelect($event)"
                                (onSelectAll)="onSelectAll($event)"
                                (onDeSelectAll)="onDeSelectAll($event)"
                                (onAddFilterNewItem)="onAddItem($event)">
          </angular2-multiselect>
        </div>
        <div class="col-md-2"><input type="button" id="btnSave" name="btnSave" value="Apply" class="btn btn-save popup-btn-width"></div>
      </div>
    </div>
  </div>
  <!--Row End-->
  <!-- First Grid-->
  <div class="row">
    <div class="col-lg-12">
      <mat-form-field appearance="outline" fxFlex="100">
        <mat-label>{{ 'key_Filter' | translate }}</mat-label>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
      </mat-form-field>
      <div class="scroll resize-table">
        <mat-table #table [dataSource]="dataSource" matSort>
          <ng-container *ngFor="let column of displayedColumns; let i=index;" [matColumnDef]="column">
            <mat-header-cell *matHeaderCellDef mat-sort-header mwlResizable [enableGhostResize]="true" (resizeEnd)="onResizeEnd($event, column)"
                             [resizeEdges]="{bottom: false, right: true, top: false, left: true}">
              <div *ngIf="column != selectRow"> {{ displayedColumnsReplace[i] | translate }}</div>
            </mat-header-cell>
            <mat-cell *matCellDef="let item">
              {{ item[column] }}
            </mat-cell>
            <mat-footer-cell *matFooterCellDef>
              {{column === 'total' ?  getTotalCost() : ''}}
            </mat-footer-cell>
          </ng-container>


          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          <mat-footer-row class="sticky-footer" *matFooterRowDef="displayedColumns; sticky: true"></mat-footer-row>

        </mat-table>
      </div>
      <mat-paginator #paginator
                     [pageSize]="10"
                     [pageSizeOptions]="[5, 10, 20]">
      </mat-paginator>


    </div>
  </div>
  <!--Row and First grid End////-->
  <!--Second grid-->
  <div class="row mt-3">
    <div class="col-lg-12">
      <div class="scroll resize-table">
        <mat-table #table [dataSource]="dataSource" matSort>
          <ng-container *ngFor="let column of displayedColumns; let i=index;" [matColumnDef]="column">
            <mat-header-cell *matHeaderCellDef mat-sort-header mwlResizable [enableGhostResize]="true" (resizeEnd)="onResizeEnd($event, column)"
                             [resizeEdges]="{bottom: false, right: true, top: false, left: true}">
              <div *ngIf="column != selectRow"> {{ displayedColumnsReplace[i] | translate }}</div>
            </mat-header-cell>
            <mat-cell *matCellDef="let item">
              {{ item[column] }}
            </mat-cell>
            <mat-footer-cell *matFooterCellDef>
              {{column === 'total' ?  getTotalCost() : ''}}
            </mat-footer-cell>
          </ng-container>


          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          <mat-footer-row class="sticky-footer" *matFooterRowDef="displayedColumns; sticky: true"></mat-footer-row>

        </mat-table>
      </div>
    </div>
  </div>
  <!--Second grid End-->
</div>
<!--modal-body End-->
